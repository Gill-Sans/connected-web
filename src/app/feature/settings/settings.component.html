<div class="settings-page">
    <h2 class="page-title">Settings</h2>

    <!-- INVITATION SECTION -->
    <section class="settings-section" *hasRole="Role.Teacher">
        <h3 class="section-label">INVITATION LINK</h3>
        <p class="section-description">
            Generate a unique registration link for researchers or external collaborators.
            The link is valid for 72 hours and may be used once to create global projects.
        </p>

        <app-button variant="primary" (click)="generateInviteLink()" [disabled]="isLoading">
            {{ isLoading ? 'Generating Link...' : 'Generate Invitation Link' }}
        </app-button>

        @if (inviteLink) {
            <div class="invite-link-row">
                <input class="input" type="text" [value]="inviteLink" readonly />
                <app-button variant="neutral" (click)="copyInviteLink()">Copy</app-button>
            </div>
        }

        @if (errorMessage) {
            <p class="error-message">{{ errorMessage }}</p>
        }
    </section>

    <!-- DELETE ACCOUNT -->
    <section class="settings-section">
        <h3 class="section-label">ACCOUNT DELETION</h3>
        <p class="section-description">
            Permanently delete your account and personal data.
            Your data will be retained for 60 days before final removal.
            This action cannot be undone.
        </p>

        <app-button
            variant="danger"
            appConfirmClick
            [confirmTitle]="'Confirm Account Deletion'"
            [confirmMessage]="'Are you sure you want to permanently delete your account? This action is irreversible.'"
            [confirmText]="'Yes, Delete My Account'"
            [cancelText]="'Cancel'"
            (confirmedClick)="requestAccountDeletion()">
            Request Account Deletion
        </app-button>
    </section>

</div>
